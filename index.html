const carousel = document.getElementById("carousel");
let index = 0;
let startX = 0;
let currentX = 0;
let isDragging = false;

function updateCarousel() {
  carousel.style.transform = `translateX(-${index * 100}vw)`;
}

carousel.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
  isDragging = true;
});

carousel.addEventListener("touchmove", e => {
  if (!isDragging) return;
  currentX = e.touches[0].clientX;
});

carousel.addEventListener("touchend", () => {
  const diff = startX - currentX;

  if (diff > 50 && index < 4) index++;
  if (diff < -50 && index > 0) index--;

  updateCarousel();
  isDragging = false;
});

// Suporte a mouse (desktop)
let mouseDown = false;
carousel.addEventListener("mousedown", e => {
  startX = e.clientX;
  mouseDown = true;
});

carousel.addEventListener("mouseup", e => {
  if (!mouseDown) return;
  currentX = e.clientX;

  const diff = startX - currentX;
  if (diff > 50 && index < 4) index++;
  if (diff < -50 && index > 0) index--;

  updateCarousel();
  mouseDown = false;
});
